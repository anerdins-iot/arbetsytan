{
  "$schema": "https://coolify.io/schema.json",
  "name": "ArbetsYtan",
  "type": "dockerfile",
  "dockerfile": "Dockerfile",
  "port": 3000,
  "healthcheck": {
    "path": "/api/health",
    "interval": 30,
    "timeout": 5,
    "retries": 3
  },
  "environment": {
    "required": [
      "DATABASE_URL",
      "AUTH_SECRET",
      "NEXTAUTH_URL",
      "REDIS_URL"
    ],
    "optional": [
      "STRIPE_SECRET_KEY",
      "STRIPE_WEBHOOK_SECRET",
      "MINIO_ENDPOINT",
      "MINIO_PORT",
      "MINIO_ACCESS_KEY",
      "MINIO_SECRET_KEY",
      "MINIO_USE_SSL",
      "RESEND_API_KEY",
      "ANTHROPIC_API_KEY",
      "OPENAI_API_KEY",
      "MISTRAL_API_KEY",
      "SOCKET_PORT",
      "SOCKET_PATH",
      "APP_URL",
      "VAPID_PUBLIC_KEY",
      "VAPID_PRIVATE_KEY",
      "VAPID_EMAIL"
    ]
  },
  "services": {
    "postgresql": {
      "image": "pgvector/pgvector:pg16",
      "env": {
        "POSTGRES_USER": "postgres",
        "POSTGRES_DB": "arbetsytan"
      }
    },
    "redis": {
      "image": "redis:7-alpine"
    },
    "minio": {
      "image": "minio/minio:RELEASE.2025-09-07T16-13-09Z-cpuv1",
      "ports": ["9000", "9001"],
      "command": "server /data --console-address :9001"
    }
  }
}
