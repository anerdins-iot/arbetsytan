generator client {
  provider = "prisma-client-js"
}

generator ts {
  provider = "prisma-client-js"
}

generator typescript {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model KnowledgeEntity {
  id          String   @id @default(cuid())
  entityType  String
  entityId    String
  metadata    Json
  confidence  Float
  lastSeen    DateTime @default(now())
  tenantId    String

  @@index([tenantId, entityType, entityId])
}

model KnowledgeRelation {
  id           String   @id @default(cuid())
  fromEntityId String
  toEntityId   String
  relationType String
  metadata     Json
  tenantId     String

  @@index([tenantId, fromEntityId, toEntityId])
}